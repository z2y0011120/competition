import{i as s,_ as w,d as V,o as E,c as _,b as t,w as o,a as f,e as d}from"./index-789cd201.js";import{E as y,a as k}from"./el-table-column-e16de002.js";import"./el-tag-4ea04386.js";import{E as v}from"./el-dialog-19ea18e4.js";import"./el-overlay-55eb4b45.js";import{E as F,a as N}from"./el-form-item-0fc3dfa5.js";import{E as $}from"./el-input-26b7f203.js";import{E as D}from"./el-button-cc310b46.js";/* empty css                   */import{E as I}from"./index-c9eff66b.js";import{E as r}from"./index-3bbe16be.js";import"./_Uint8Array-76672878.js";import"./_initCloneObject-f66fa92e.js";import"./debounce-c87c8148.js";import"./use-form-item-f09bf200.js";import"./validator-87c37b4d.js";const B=e=>s.request({url:"api/articleCat/add",method:"post",data:e}),T=e=>s.request({url:"api/articleCat/delete",method:"get",params:e}),q=e=>s.request({url:"api/articleCat/edit",method:"post",data:e}),U=e=>s.request({url:"api/articleCat/one",method:"get",params:e}),L=()=>s.request({url:"api/articleCat/all",method:"get"}),W=e=>s.request({url:"api/articleCat/colums",method:"get",params:e}),m={add:B,remove:T,update:q,select:U,entire:L,colums:W},z=V({data(){return{list:[],articleCat:{},dialogFormVisible:!1,current:1,size:10,total:0}},mounted(){this.fetchData()},methods:{fetchData(){m.entire().then(e=>{console.log(e),this.list=e.data.articleCats})},handleDelete(e){const a={id:e};I.confirm("您是否需要删除该面试题吗?","提示",{confirmButtonText:"ok",cancelButtonText:"no",type:"warning"}).then(()=>{m.remove(a).then(p=>{p.success?(r({type:"success",message:"删除成功"}),this.fetchData()):r({type:"error",message:"网络出问题，联系管理员"})})}).catch(()=>{r({type:"warning",message:"取消删除"})})},handleEdit(e){this.dialogFormVisible=!0;const a={id:e};m.select(a).then(p=>{this.articleCat=p.data.articleCat})},toAdd(){this.articleCat={},this.dialogFormVisible=!0},confirm(){console.log(this.articleCat),this.articleCat.id==null?m.add(this.articleCat).then(e=>{e.success?(r({type:"success",message:"添加成功"}),this.fetchData()):r({type:"error",message:"网络出问题，联系管理员"}),this.dialogFormVisible=!1}):(m.update(this.articleCat).then(e=>{e.success?(r({type:"success",message:"编辑成功"}),this.fetchData()):r({type:"error",message:"网络出问题，联系管理员"})}),this.dialogFormVisible=!1)}}}),O={class:"root"},A={class:"dialog-footer"},M={class:"table"};function j(e,a,p,G,H,J){const n=D,u=$,c=F,h=N,b=v,i=k,g=y;return E(),_("div",O,[t(n,{type:"success",plain:"",onClick:e.toAdd},{default:o(()=>[d("新增")]),_:1},8,["onClick"]),t(b,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[6]||(a[6]=l=>e.dialogFormVisible=l),title:"表单"},{footer:o(()=>[f("span",A,[t(n,{onClick:a[4]||(a[4]=l=>e.dialogFormVisible=!1)},{default:o(()=>[d("取消")]),_:1}),t(n,{type:"primary",onClick:a[5]||(a[5]=l=>e.confirm())},{default:o(()=>[d(" 确定 ")]),_:1})])]),default:o(()=>[t(h,{model:e.articleCat},{default:o(()=>[t(c,{label:"类别名称","label-width":e.formLabelWidth},{default:o(()=>[t(u,{modelValue:e.articleCat.catName,"onUpdate:modelValue":a[0]||(a[0]=l=>e.articleCat.catName=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(c,{label:"父级id","label-width":e.formLabelWidth},{default:o(()=>[t(u,{modelValue:e.articleCat.parentId,"onUpdate:modelValue":a[1]||(a[1]=l=>e.articleCat.parentId=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(c,{label:"是否导航显示","label-width":e.formLabelWidth},{default:o(()=>[t(u,{modelValue:e.articleCat.showInNav,"onUpdate:modelValue":a[2]||(a[2]=l=>e.articleCat.showInNav=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(c,{label:"排序","label-width":e.formLabelWidth},{default:o(()=>[t(u,{modelValue:e.articleCat.sortOrder,"onUpdate:modelValue":a[3]||(a[3]=l=>e.articleCat.sortOrder=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"]),f("div",M,[t(g,{data:e.list,style:{width:"100%"}},{default:o(()=>[t(i,{fixed:"",prop:"id",label:"序号",width:"80",align:"center"}),t(i,{prop:"catName",label:"类别名称",width:"150",align:"center"}),t(i,{prop:"parentId",label:"父级id",width:"80",align:"center"}),t(i,{prop:"showInNav",label:"是否导航显示",width:"110",align:"center"}),t(i,{prop:"sortOrder",label:"排序",width:"80",align:"center"}),t(i,{prop:"createTime",label:"创建时间",width:"250",align:"center"}),t(i,{prop:"updateTime",label:"更新时间",width:"250",align:"center"}),t(i,{fixed:"right",label:"权限",width:"150",align:"center"},{default:o(l=>[t(n,{type:"info",plain:"",size:"small",onClick:C=>e.handleEdit(l.row.id)},{default:o(()=>[d("编辑")]),_:2},1032,["onClick"]),t(n,{type:"danger",plain:"",size:"small",onClick:C=>e.handleDelete(l.row.id)},{default:o(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}const se=w(z,[["render",j]]);export{se as default};
