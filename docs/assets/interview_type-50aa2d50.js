import{_ as w,d as V,o as E,c as _,a as h,b as t,w as o,F as k,e as n}from"./index-789cd201.js";import{E as y}from"./el-dialog-19ea18e4.js";import"./el-overlay-55eb4b45.js";import{E as A,a as F}from"./el-form-item-0fc3dfa5.js";import{E as v}from"./el-pagination-d72db8aa.js";import{E as P}from"./el-input-26b7f203.js";import"./el-tag-4ea04386.js";import"./el-select-bd4a6b65.js";import{E as z,a as $}from"./el-table-column-e16de002.js";import{E as L}from"./el-button-cc310b46.js";import{a as K,b as U,c as B,d as W}from"./index-fbd599b2.js";import{c as D}from"./cloneDeep-03746fa9.js";import{E as d}from"./index-3bbe16be.js";import"./use-form-item-f09bf200.js";import"./_Uint8Array-76672878.js";import"./_initCloneObject-f66fa92e.js";import"./debounce-c87c8148.js";import"./validator-87c37b4d.js";const I=V({data(){return{adCates:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,adCate:{height:"",id:0,name:"",width:""},formLabelWidth:80,searchKeyword:""}},computed:{filteredAdCates(){if(this.searchKeyword==="")return this.adCates;{const e=this.searchKeyword.toLowerCase();return this.adCates.filter(a=>a.name.toLowerCase().includes(e))}}},mounted(){this.getAdCatesPage(1)},methods:{toEdit(e){console.log(e),this.dialogFormVisible=!0,this.adCate=D(e)},getAdCatesPage(e){const a={current:e,size:this.page.size};K(a).then(s=>{console.log(s);const p=s.data.page;this.adCates=p.records,this.page=p}).catch(s=>{console.log(s)})},currentchange(e){this.getAdCatesPage(e),this.page.current=e},del(e){console.log(e),U({id:e}).then(s=>{if(s.success)this.getAdCatesPage(this.page.current);else return console.log(s.msg),!1}).catch(s=>{})},toAdd(){this.dialogFormVisible=!0},save(){const e=this.adCate;e.id===0?B(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getAdCatesPage(1),d(a.msg);else return d(a.msg),!1}).catch(a=>{d("网络错误联系管理员")}):W(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getAdCatesPage(this.page.current),d(a.msg);else return d(a.msg),!1}).catch(a=>{d("网络错误联系管理员")})},search(){this.getAdCatesPage(1)}}}),N={class:"adCates"},T={class:"adcate-tools"},M={class:"dialog-footer"};function j(e,a,s,p,q,G){const i=L,m=P,r=$,g=z,f=v,u=A,c=F,C=y;return E(),_(k,null,[h("div",N,[h("div",T,[t(m,{modelValue:e.searchKeyword,"onUpdate:modelValue":a[0]||(a[0]=l=>e.searchKeyword=l),placeholder:"请输入关键词",clearable:"",onClear:e.search},{default:o(()=>[t(i,{slot:"append",icon:"el-icon-search",onClick:e.search},null,8,["onClick"])]),_:1},8,["modelValue","onClear"]),t(i,{type:"warning",onClick:e.toAdd},{default:o(()=>[n("添加")]),_:1},8,["onClick"])]),t(g,{data:e.filteredAdCates,style:{width:"100%"}},{default:o(()=>[t(r,{fixed:"",prop:"id",label:"id",width:"50"}),t(r,{prop:"name",label:"面试题型"}),t(r,{prop:"width",label:"面试编号",width:"120"}),t(r,{prop:"height",label:"面试描述",width:"120"}),t(r,{fixed:"right",label:"操作",width:"120"},{default:o(l=>[t(i,{link:"",type:"primary",size:"small",onClick:b=>e.toEdit(l.row)},{default:o(()=>[n("更新")]),_:2},1032,["onClick"]),t(i,{link:"",type:"primary",size:"small",onClick:b=>e.del(l.row.id)},{default:o(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(f,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),t(C,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[5]||(a[5]=l=>e.dialogFormVisible=l),title:"面试题型编辑"},{footer:o(()=>[h("span",M,[t(i,{onClick:a[4]||(a[4]=l=>e.dialogFormVisible=!1)},{default:o(()=>[n("Cancel")]),_:1}),t(i,{type:"primary",onClick:e.save},{default:o(()=>[n("保存")]),_:1},8,["onClick"])])]),default:o(()=>[t(c,{model:e.adCate},{default:o(()=>[t(u,{label:"面试题型","label-width":e.formLabelWidth},{default:o(()=>[t(m,{modelValue:e.adCate.name,"onUpdate:modelValue":a[1]||(a[1]=l=>e.adCate.name=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(u,{label:"面试编号","label-width":e.formLabelWidth},{default:o(()=>[t(m,{modelValue:e.adCate.width,"onUpdate:modelValue":a[2]||(a[2]=l=>e.adCate.width=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(u,{label:"面试描述","label-width":e.formLabelWidth},{default:o(()=>[t(m,{modelValue:e.adCate.height,"onUpdate:modelValue":a[3]||(a[3]=l=>e.adCate.height=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const re=w(I,[["render",j]]);export{re as default};
