import{_ as S,d as k,r as d,o as _,c as D,f as I,g as M,a as t,e as c,t as H,b as i,w as l,h as m,v as g,E as $,p as N,j as T}from"./index-789cd201.js";import{E as Y}from"./el-dialog-19ea18e4.js";import"./el-overlay-55eb4b45.js";import{E as B}from"./el-pagination-d72db8aa.js";import"./el-input-26b7f203.js";import"./el-tag-4ea04386.js";import"./el-select-bd4a6b65.js";import{E as O,a as x}from"./el-table-column-e16de002.js";import{E as F}from"./el-button-cc310b46.js";import J from"./index-cd7690da.js";import L from"./region-d822a36b.js";import{g as q}from"./competitionCreateList-9f012516.js";import{a as A}from"./competitionSign-c2bddea0.js";import{d as v}from"./dayjs.min-4904ffcd.js";import{E as h}from"./index-3bbe16be.js";import"./use-form-item-f09bf200.js";import"./_Uint8Array-76672878.js";import"./debounce-c87c8148.js";import"./validator-87c37b4d.js";import"./_initCloneObject-f66fa92e.js";const j=k({components:{region:L,index:J},data(){return{listVi:!0,competitionCreates:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,competitionCreate:{},formLabelWidth:80,centerDialogVisible:!1,options:[],zz:"泉州信息工程学院",abc:!1}},mounted(){this.zzc(2),JSON.parse(sessionStorage.getItem("name5"))=="zhangyaoyao@qq.com"||(this.cc=!1)},methods:{bb(e){const s={name3:e};sessionStorage.setItem("name3",JSON.stringify(s)),console.log(s)},sign(e){A({checked:0,competitionId:e,createTime:new Date,id:0,studentId:0}).then(a=>{if(a.success)console.log(a),this.zzc(2),h({message:"报名成功",type:"success"});else return h({message:a.msg,type:"warning"}),!1}).catch(a=>{h({message:"网络错误联系管理员",type:"error"})})},mm(){const e={name2:this.zz};sessionStorage.setItem("name2",JSON.stringify(e)),console.log(JSON.parse(sessionStorage.getItem("name5")).name5),JSON.parse(sessionStorage.getItem("name5")).name5=="zhangyaoyao@qq.com"?this.abc=!0:this.$router.push("/admin/signup")},ab(){this.zz=JSON.parse(sessionStorage.getItem("name")).name,this.zz=="福建电力学院"?(this.listVi=!1,this.zzc(2)):this.listVi=!0},selectSchool(){},zzc(e){console.log(e),q({userId:e}).then(a=>{if(a.success)console.log(a.data.competitionCreates),this.competitionCreates=a.data.competitionCreates,console.log(this.competitionCreates),this.competitionCreates.forEach(o=>{o.startTime=v(o.startTime).format("YYYY年MM月DD日 HH:mm:ss"),o.endTime=v(o.endTime).format("YYYY年MM月DD日 HH:mm:ss"),o.aimCompetition==0&&(o.aimCompetition="无目标赛事"),o.checked==0?o.checked="未审核":o.checked="已审核",o.signup==0?o.signup="未开始":o.signup="已开始",o.state==0?o.state="未启用":o.state==1?o.state="启用":o.state="结束",o.aimCompetition==1275&&(o.aimCompetition="中国软件杯”大学生软件设计大赛")});else return console.log(a.msg),!1}).catch(a=>{})}}}),f=e=>(N("data-v-ad6de041"),e=e(),T(),e),G={class:"aside_header"},P=f(()=>t("div",{class:"aside_header_font"},[t("div",{class:"aside_header_left"},[t("svg",{t:"1685586928735",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4083",width:"30",height:"30"},[t("path",{d:"M440.832 785.408v29.696H583.68v-29.696h-24.576v-296.96h24.576v-29.696H440.32v29.696h24.576v297.472h-24.064zM169.472 785.408v29.696H312.32v-29.696h-24.576v-296.96H312.32v-29.696H169.472v29.696h24.576v297.472h-24.576zM711.68 785.408v29.696h142.848v-29.696h-24.576v-296.96h24.576v-29.696H711.68v29.696h24.576v297.472H711.68z",fill:"#409EEF","p-id":"4084"}),t("path",{d:"M102.4 871.936v12.288c-0.512 9.728 7.168 17.92 16.896 18.432h786.432c9.728-0.512 16.896-8.704 16.384-18.432v-12.288c0.512-9.728-7.168-17.92-16.384-18.432H118.784c-9.728 0-16.896 8.704-16.384 18.432zM966.656 934.912H57.344c-9.728 0.512-16.896 8.704-16.896 18.432v12.288c-0.512 9.728 7.168 17.92 16.896 18.432h909.312c9.728-0.512 16.896-8.704 16.896-18.432v-12.288c0-9.728-7.168-17.92-16.896-18.432zM89.6 424.448h844.8c7.68-0.512 14.848-5.632 16.384-13.312 2.56-7.68 0-16.384-6.144-22.016L522.24 43.52c-5.632-5.12-14.336-5.12-20.48 0L79.36 389.12c-6.144 5.632-8.704 13.824-6.144 22.016 2.048 7.168 8.704 12.8 16.384 13.312zM512.512 174.08c37.376 0 67.072 33.792 67.072 75.776s-30.208 75.776-67.072 75.776c-36.864 0-67.584-33.792-67.584-75.776S475.136 174.08 512.512 174.08z",fill:"#409EEF","p-id":"4085"})])]),t("div",{class:"aside_header_right"},[t("span",{style:{color:"#409EEF"}},"微校园竞赛管理平台")])],-1)),U={class:"aside_header_back",style:{cursor:"pointer"}},W=f(()=>t("svg",{t:"1685588515854",class:"icon",viewBox:"0 0 1091 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6187",width:"15",height:"15"},[t("path",{d:"M545.901727-6.34913734a300.183426 300.183426 0 0 0-185.834452 536.106341A552.015159 552.015159 0 0 0 0.625237 961.44889766a48.629576 48.629576 0 0 0 40.154136 55.576659 49.602168 49.602168 0 0 0 7.850203 0.625237 48.629576 48.629576 0 0 0 47.795926-40.779373 453.088707 453.088707 0 0 1 449.545696-382.089526A300.391839 300.391839 0 0 0 545.901727-6.34913734z m0 503.802409a203.41057 203.41057 0 1 1 203.41057-203.41057 203.618982 203.618982 0 0 1-203.41057 203.41057zM1091.178216 961.44889766A551.459393 551.459393 0 0 0 833.649876 578.24783866a48.629576 48.629576 0 1 0-50.57476 82.670279 454.686536 454.686536 0 0 1 212.441777 315.953303 48.629576 48.629576 0 0 0 47.795926 40.779373 49.602168 49.602168 0 0 0 7.780732-0.625237 48.629576 48.629576 0 0 0 40.084665-55.576659z","p-id":"6188"})],-1)),K={style:{color:"#808080","font-size":"13px",display:"inline-block"}},Q={style:{cursor:"pointer"}},R={class:"bar"},X=f(()=>t("div",{style:{float:"left","line-height":"45px","margin-left":"20px"}}," 竞赛列表 ",-1)),Z={style:{float:"right","line-height":"45px","margin-right":"20px"}},ee={class:"competitionCreates",style:{width:"70%",display:"block",margin:"0 auto"}},te={class:"img"},oe={style:{"margin-left":"50px"}},ie={class:"dialog-footer"};function se(e,s,a,o,ae,ne){const u=d("index"),b=d("LocationFilled"),z=d("Grid"),w=$,n=x,p=F,y=O,C=B,E=d("region"),V=Y;return _(),D("div",null,[e.abc?(_(),I(u,{key:0})):M("",!0),t("div",G,[P,t("div",U,[t("div",{style:{display:"inline-block","margin-right":"30px","margin-top":"5px"},onClick:s[0]||(s[0]=r=>e.mm())},[W,c(" 我的 ")]),t("div",K,[c(H(e.zz)+" ",1),t("a",Q,[i(b,{style:{width:"1em",height:"1em"},onClick:s[1]||(s[1]=r=>e.centerDialogVisible=!0)})])])])]),t("div",R,[X,t("div",Z,[i(w,null,{default:l(()=>[i(z)]),_:1})])]),t("div",ee,[m(i(y,{data:e.competitionCreates,border:"",style:{width:"100%"}},{default:l(()=>[i(n,{fixed:"",prop:"id",label:"id",width:"60",align:"center"}),i(n,{prop:"title",label:"竞赛标题",width:"100",align:"center"}),i(n,{prop:"signupedCount",label:"报名数量",width:"100",align:"center"}),i(n,{prop:"target",label:"赛事对象",width:"90",align:"center"}),i(n,{prop:"aimCompetition",label:"目标赛事",width:"173",align:"center"}),i(n,{prop:"startTime",label:"竞赛开始时间",width:"135",align:"center"}),i(n,{prop:"endTime",label:"结束时间",width:"135",align:"center"}),i(n,{prop:"signup",label:"开始报名",width:"90",align:"center"}),i(n,{fixed:"right",label:"操作",width:"130",align:"center"},{default:l(r=>[i(p,{type:"primary",onClick:le=>e.sign(r.row.id)},{default:l(()=>[c("报名该竞赛")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),[[g,e.listVi]]),m(i(C,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"]),[[g,e.listVi]]),m(t("div",te,null,512),[[g,!e.listVi]])]),i(V,{modelValue:e.centerDialogVisible,"onUpdate:modelValue":s[4]||(s[4]=r=>e.centerDialogVisible=r),title:"学校选择",width:"50%","align-center":""},{footer:l(()=>[t("span",ie,[i(p,{onClick:s[2]||(s[2]=r=>e.centerDialogVisible=!1)},{default:l(()=>[c("取消")]),_:1}),i(p,{type:"primary",onClick:s[3]||(s[3]=r=>(e.centerDialogVisible=!1,e.ab(),e.bb(this.zz)))},{default:l(()=>[c(" 确定 ")]),_:1})])]),default:l(()=>[t("div",oe,[i(E)])]),_:1},8,["modelValue"])])}const De=S(j,[["render",se],["__scopeId","data-v-ad6de041"]]);export{De as default};
