import{i as O,C as a,o as s,c as v,a as D,e as F,b as y,w as b,M as u,ag as V,F as k,X as C,f as x}from"./index-789cd201.js";import"./el-input-26b7f203.js";import"./el-tag-4ea04386.js";import{E as G,a as H}from"./el-select-bd4a6b65.js";import"./use-form-item-f09bf200.js";import"./_Uint8Array-76672878.js";import"./debounce-c87c8148.js";import"./validator-87c37b4d.js";function w(m){return O({url:`/api/region/pid?pid=${m}`,method:"get"})}function K(m){return O({url:"api/school/search",method:"post",data:m})}const P=D("br",null,null,-1),Q={style:{"margin-top":"20px"}},ne={__name:"region",setup(m){let r="",d="",n="",t="";const $=a([]);let g={city:"",county:"",province:""};const R=a(0);a([]);const i=a([]),f=a(),N=a([]),z=a([]),c=a(),B=a([]),E=a([]);T();const U=[i],I=(o,l)=>{z.value.push(f.value),f.value=o,r=l,console.log(r),d="",n="",t="",X()},J=(o,l)=>{E.value.push(c.value),c.value=o,d=l,console.log(f),console.log(d),n="",t="",S()},M=(o,l)=>{E.value.push(c.value),c.value=o,n=l,console.log(c),console.log(n),t="",S()};function T(){w(R.value).then(o=>{i.value=o.data.regions,console.log(i.value),console.log(U)})}function X(){w(f.value).then(o=>{N.value=o.data.regions,console.log(i.value),console.log(U)})}function j(o){const l={name:o};sessionStorage.setItem("name",JSON.stringify(l))}function S(){w(c.value).then(o=>{B.value=o.data.regions,console.log(i.value),console.log(U)})}const q=(o,l,p)=>{console.log(o,l,p),g.city="泉州市",g.county="丰泽区",g.province="福建省",A()};function A(){K(g).then(o=>{o.success&&(console.log(o.data.schools),$.value=o.data.schools,console.log($)),console.log(o)})}return(o,l)=>{const p=H,h=G;return s(),v("div",null,[P,D("div",null,[F(" 选择地域 "),y(h,{onChange:l[0]||(l[0]=e=>o.$forceUpdate()),modelValue:u(r),"onUpdate:modelValue":l[1]||(l[1]=e=>V(r)?r.value=e:r=e),class:"m-2",placeholder:"请选择省|直辖市",style:{"margin-left":"10px",width:"150px"}},{default:b(()=>[(s(!0),v(k,null,C(i.value,e=>(s(),x(p,{label:e.name,key:e.id,value:e.name,onClick:L=>I(e.id,e.name)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"]),y(h,{onChange:l[2]||(l[2]=e=>o.$forceUpdate()),modelValue:u(d),"onUpdate:modelValue":l[3]||(l[3]=e=>V(d)?d.value=e:d=e),class:"m-2",placeholder:"请选择地区市|直辖市辖区",style:{width:"180px"}},{default:b(()=>[(s(!0),v(k,null,C(N.value,e=>(s(),x(p,{label:e.name,key:e.id,value:e.name,onClick:L=>J(e.id,e.name)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"]),y(h,{onChange:l[4]||(l[4]=e=>o.$forceUpdate()),modelValue:u(n),"onUpdate:modelValue":l[5]||(l[5]=e=>V(n)?n.value=e:n=e),class:"m-2",placeholder:"请选择县|县级市|市辖区",style:{width:"180px"}},{default:b(()=>[(s(!0),v(k,null,C(B.value,e=>(s(),x(p,{label:e.name,key:e.id,value:e.name,onClick:L=>(M(e.id,e.name),q(u(r),u(d),u(n)))},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue"])]),D("div",Q,[F(" 选择学校 "),y(h,{onChange:l[7]||(l[7]=e=>o.$forceUpdate()),modelValue:u(t),"onUpdate:modelValue":l[8]||(l[8]=e=>V(t)?t.value=e:t=e),class:"m-2",placeholder:"请选择学校",style:{"margin-left":"10px",width:"180px"}},{default:b(()=>[(s(!0),v(k,null,C($.value,e=>(s(),x(p,{label:e.schoolName,key:u(t),value:e.schoolName,onClick:l[6]||(l[6]=L=>(j(u(t)),this.$router.push("/home")))},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])}}};export{ne as default};
